<div class="container">
  <div class="row">
    <div class="col-md-11 mx-auto">
      <%= render "layouts/errors", obj: @post %>
      <%= form_with model: @post, url: posts_path do |f| %>
        <h3 class="my-3" style="color: #696969;">新規投稿画面</h3>
        <!--画像フォーム-->
        <div id="image-box">
          <div class="d-flex">
            <p class="my-1 mr-2">お店の写真(10枚まで投稿可)</p>
            <span class="btn btn-danger btn-sm">必須</span>
          </div>

          <%= f.fields_for :photos do |img| %>
            <div data-index="<%= img.index %>" class="js-file_group mt-1">
              <%= img.file_field :image, class: 'js-file', id: "file-upload" %><br>
              <span class="js-remove">削除</span>
            </div>
          <% end %>
        </div>

          <!--入力フォーム-->
        <div class="mt-3 form-group">
          <div class="d-flex">
            <%= f.label :title, "タイトル", placeholder: "30字まで入力可能です" %>
            <span class="mb-2 ml-1 btn btn-danger btn-sm">必須</span>
          </div>
          <%= f.text_field :title, autofocus: true, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :tag, "タグ (,で区切ると複数タグ登録できます)" %>
          <%= f.text_field :name, value: @tag_list, class: "form-control" %>
        </div>

        <div class="form-group">
          <div class="d-flex">
            <%= f.label :shop_name, "ショップ名" %>
            <span class="mb-2 ml-1 btn btn-danger btn-sm">必須</span>
          </div>
          <%= f.text_field :shop_name, class: "form-control" %>
        </div>

        <div class="form-group">
          <div class="d-flex">
            <%= f.label :address, "住所" %>
            <span class="mb-2 ml-1 btn btn-danger btn-sm">必須</span>
          </div>
          <%= f.text_field :address, class: "form-control", placeholder: "郵便番号を除き、都道府県から入力してください" %>
        </div>

        <div class="form-group">
          <div class="d-flex">
            <%= f.label :body, "おすすめポイント" %>
            <span class="mb-2 ml-1 btn btn-danger btn-sm">必須</span>
          </div>
          <%= f.text_area :body, class: "form-control", placeholder: "3字以上200字まで入力可能です" %>
        </div>

        <div class="form-group mt-2 mb-3">
          <div class="d-flex">
            <%= f.label :status, "公開範囲を選択" %>
            <span class="mb-2 ml-1 btn btn-danger btn-sm">必須</span>
          </div>
          <%= f.select :status, [["公開", "published"], ["下書き", "draft"]], required: true, class:"form-control" %>
          <p>※タグについては下書き・非公開の場合、保存できません</p>
        </div>

        <div class="mt-2 mb-5">
          <%= f.submit "投稿する", class: "btn btn-primary" %>
        </div>
      <% end %>

    </div>
  </div>
</div>
